<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JOYFIT24経堂 3月限定キャンペーン</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- Oswald (スロット用), Playfair (英語用), Noto Sans JP (日本語用) を統合 -->
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@700;900&family=Playfair+Display:ital,wght@0,700;1,400&family=Noto+Sans+JP:wght@300;500;700;900&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    
    <style>
        /* =======================================================
           ■ Root Variables & Base
           ======================================================= */
        :root { 
            --brand: #C21632; 
            --brand-dark: #8a0e20;
            --gold-main: #D4AF37; 
            --gold-light: #F8E71C; 
            --gold-dark: #B48811; 
            --gold-gradient: linear-gradient(135deg, #B48811 0%, #F8E71C 25%, #D4AF37 50%, #F8E71C 75%, #B48811 100%);
            
            --color-dark: #1a1a2e;
            --color-text: #2C2C2C;
            --bg-body: #FAF9F6; 
            
            --font-base: 'Noto Sans JP', sans-serif;
            --font-en: 'Playfair Display', serif;
            
            --container-max-width: 600px;
        }

        html { box-sizing: border-box; scroll-behavior: smooth; }
        *, *::before, *::after { box-sizing: inherit; }
        
        body {
            font-family: var(--font-base);
            text-align: center;
            margin: 0; padding: 0; padding-bottom: 120px;
            overflow-x: hidden; 
            color: var(--color-text);
            background-color: var(--bg-body);
        }
        body.banner-hidden { padding-bottom: 40px; }

        /* =======================================================
           ■ Hero Section (Slot Animation)
           ======================================================= */
        .font-impact { font-family: 'Oswald', sans-serif; }
        
        .mild-fade-in { opacity: 0; animation: mildFadeIn 1.2s cubic-bezier(0.2, 0.8, 0.2, 1) forwards; }
        @keyframes mildFadeIn {
            0% { opacity: 0; transform: translateY(20px); }
            100% { opacity: 1; transform: translateY(0); }
        }

        .bg-noise {
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
            opacity: 0.04; mix-blend-mode: multiply;
        }

        .slot-shadow { text-shadow: 3px 3px 0 var(--brand); }
        @media (min-width: 768px) { .slot-shadow { text-shadow: 4px 4px 0 var(--brand); } }
        
        .spinning { filter: blur(2px); }

        .shake-impact { animation: shakeImpact 0.5s cubic-bezier(0.36, 0.07, 0.19, 0.97) both; }
        @keyframes shakeImpact {
            0% { transform: translate(0, 0); }
            20% { transform: translate(-5px, 5px) scale(1.02) rotate(-1deg); }
            40% { transform: translate(5px, -3px) scale(0.98) rotate(1deg); }
            60% { transform: translate(-3px, -3px) scale(1.01); }
            80% { transform: translate(3px, 3px) scale(0.99); }
            100% { transform: translate(0, 0); }
        }

        .slot-flash .slot-shadow { animation: slotFlashText 0.6s ease-out forwards; }
        @keyframes slotFlashText {
            0% { text-shadow: 4px 4px 0 var(--brand); color: #111111; }
            15% { text-shadow: 0px 0px 30px var(--brand); color: var(--brand); }
            100% { text-shadow: 4px 4px 0 var(--brand); color: #111111; }
        }

        /* =======================================================
           ■ スクロール連動Reveal効果 & デザインコンポーネント
           ======================================================= */
        .reveal-up {
            opacity: 0; transform: translateY(40px);
            transition: opacity 0.8s ease-out, transform 0.8s cubic-bezier(0.25, 1, 0.5, 1);
            will-change: opacity, transform;
        }
        .reveal-up.is-visible { opacity: 1; transform: translateY(0); }

        .lp-wrapper { width: 100%; max-width: var(--container-max-width); margin: 0 auto; padding: 0 15px; display: flex; flex-direction: column; align-items: center; }
        
        .plan-selection-section { width: 100%; margin: 0 auto; }
        
        /* キャンペーン見出しをゴールドグラデーション化 */
        .campaign-header-enhanced { 
            background: var(--gold-gradient); 
            padding: 25px 20px; 
            border-radius: 20px 20px 0 0; 
            box-shadow: 0 -5px 20px rgba(180, 136, 17, 0.2); 
            text-align: center; 
            border-bottom: 3px solid rgba(0,0,0,0.1);
            margin-top: 10px; 
        }
        .campaign-header-enhanced h2 { margin: 0; font-size: 1.8rem; font-weight: 900; color: #111; letter-spacing: 0.05em; text-shadow: 0 1px 0 rgba(255,255,255,0.4); }
        .campaign-header-enhanced .sub-text { display: block; font-size: 1rem; color: #333; margin-top: 5px; font-weight: 700; opacity: 0.9; }

        .plan-container-wrapper { overflow: hidden; border-radius: 0 0 20px 20px; background-color: #fff; box-shadow: 0 15px 40px rgba(0,0,0,0.08); padding-top: 15px; padding-bottom: 30px; border: 4px solid var(--brand); border-top: none; }
        .price-showcase { border-radius: 12px; max-width: 95%; margin: 0 auto; text-align: left; border: 1px solid #eee; box-shadow: 0 4px 15px rgba(0,0,0,0.02); }
        .price-list { padding: 0 1rem; }
        .price-item { display: flex; align-items: flex-start; padding: 1rem 0; border-bottom: 1px dashed #ccc; gap: 0.5rem; }
        .price-item .label-group { display: flex; align-items: center; gap: 0.5rem; flex: 1; min-width: 120px; }
        .price-item .number-circle { width: 28px; height: 28px; background-color: #555; color: #fff; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1rem; font-weight: 900; flex-shrink: 0; }
        .price-item .label { font-size: 0.9rem; font-weight: 700; color: #333; }
        .price-item .label .note { font-size: 0.75rem; color: #C21632; display: block; }
        .divider-dot { width: 1px; height: 50px; background-image: linear-gradient(to bottom, #ccc 60%, transparent 40%); background-size: 1px 8px; background-repeat: repeat-y; align-self: center; }
        .price-display-center { flex: 1; text-align: center; display: flex; flex-direction: column; justify-content: center; align-items: center; }
        .price-display-center .price-value { font-size: 1.4rem; font-weight: 900; }
        .price-display-center .unit { font-size: 0.9rem; font-weight: 700; color: #333; }
        .mid-list-total-block { padding: 1.5rem 1rem; text-align: center; background-color: #fffaf0; border: 2px solid var(--gold-main); border-radius: 10px; margin: 1.5rem 0; }
        .mid-list-total-block .label { font-size: 0.95rem; font-weight: 900; margin-bottom: 0.5rem; }
        .mid-list-total-block .price-large { font-size: 2rem; font-weight: 900; color: var(--brand); }
        .monthly-fee { padding: 1.5rem; text-align: center; background-color: #f8f9fa; border-top: 1px solid #eee; }
        
        .condition-list-content { padding: 15px 10px; }
        .condition-item { display: flex; align-items: flex-start; gap: 10px; margin-bottom: 12px; text-align: left; font-size: 0.85rem; font-weight: 700; }
        
        .digital-step-card { background-color: #fff; border: 1px solid #e0e0e0; border-radius: 12px; padding: 20px; text-align: left; box-shadow: 0 4px 15px rgba(0,0,0,0.03); width: 95%; margin: 0 auto 20px auto; transition: 0.3s; }
        .digital-step-card:hover { transform: translateY(-3px); box-shadow: 0 8px 20px rgba(0,0,0,0.08); border-color: var(--brand); }
        .step-badge { display: inline-block; background-color: #333; color: #fff; font-size: 0.75rem; font-weight: 900; padding: 4px 10px; border-radius: 6px; margin-bottom: 12px; }
        .step-badge.gold { background: var(--gold-gradient); color: #3e2723; }
        .step-badge.red { background: var(--brand); color: #fff; }
        .step-main-content { display: flex; align-items: center; justify-content: space-between; gap: 12px; }
        .step-info { flex: 1; }
        .step-title { font-size: 1.05rem; font-weight: 900; margin-bottom: 4px; }
        .step-action-btn { display: inline-flex; align-items: center; justify-content: center; font-size: 0.9rem; font-weight: 900; padding: 10px 20px; border-radius: 8px; text-decoration: none; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
        .btn-gold-flat { background: var(--gold-gradient); color: #3e2723; border: 1px solid #d4af37; }
        .btn-red-flat { background: var(--brand); color: #fff; border: 1px solid #a01229; }

        .options-group-section { background: linear-gradient(145deg, #C21632 0%, #8a0e20 100%); color: #fff; border-radius: 20px; padding: 50px 0; margin: 50px auto; width: 100%; }
        .options-carousel-section { padding-bottom: 20px; }
        .options-carousel-section .section-title { font-size: 1.8rem; font-weight: 900; margin-bottom: 0.8rem; }
        .options-carousel-section .section-title .highlight { color: var(--gold-main); font-size: 2.8rem; }
        .scene { width: 100%; height: 450px; display: flex; justify-content: center; align-items: center; position: relative; overflow: hidden; }
        .card-carousel { width: 280px; height: 340px; position: relative; cursor: grab; }
        .option-card-3d { position: absolute; width: 280px; height: 340px; border-radius: 20px; background-color: #fff; border: 4px solid var(--gold-main); display: flex; flex-direction: column; padding: 1.5rem 1rem; left: 50%; top: 0; transform: translateX(-50%); transition: 0.5s; }
        .card-icon { max-width: 150px; max-height: 150px; margin: auto; }
        .card-title { font-size: 1.25rem; font-weight: 900; color: #333; }
        .card-price { font-size: 1.6rem; font-weight: 700; color: var(--brand); }
        .card-badge { position: absolute; top: 1rem; left: 1rem; padding: 0.4rem 0.8rem; font-weight: 900; font-size: 0.8rem; border-radius: 6px; }
        .card-badge.free { background: var(--brand); color: #fff; }
        .card-badge.paid { background: var(--gold-main); color: #fff; }
        .carousel-nav { display: flex; justify-content: center; gap: 1.5rem; margin-top: 20px; }
        .carousel-nav button { width: 55px; height: 55px; border-radius: 50%; background: #fff; border: none; box-shadow: 0 5px 15px rgba(0,0,0,0.4); font-size: 1.2rem; cursor: pointer; transition: 0.2s; }
        .carousel-nav button:hover { transform: scale(1.1); }

        .notice-container-v22 { background: #fff; border: 4px solid var(--brand); border-radius: 20px; padding: 40px 25px; margin: 60px auto 0; width: 95%; text-align: center; }
        .notice-title-v22 { font-size: 2rem; font-weight: 900; color: var(--brand); margin-bottom: 25px; display: flex; align-items: center; justify-content: center; }
        .notice-title-v22::before, .notice-title-v22::after { content: ''; flex: 1; height: 2px; background: var(--brand); opacity: 0.3; margin: 0 15px; }
        .notice-warning-v22 { display: block; font-size: 0.85rem; font-weight: 900; color: #fff; background: #d32f2f; padding: 15px; border-radius: 8px; margin-top: 20px; }
        .cta-button-video { display: inline-flex; align-items: center; gap: 8px; background: linear-gradient(45deg, #ffea00, #ffd600); color: #333; font-weight: 900; padding: 15px 30px; border-radius: 50px; text-decoration: none; margin-top: 25px; transition: 0.3s; }

        .bonus-section-red { display: block; text-decoration: none; background: #fff; border: 4px solid var(--brand); border-radius: 20px; padding: 40px 25px; margin: 40px auto 0; width: 95%; text-align: center; transition: 0.3s; }
        .bonus-section-red:hover { transform: translateY(-5px); box-shadow: 0 15px 40px rgba(0,0,0,0.12); }
        .bonus-btn-large { display: inline-flex; justify-content: center; width: 85%; background: var(--gold-gradient); color: #3e2723; font-size: 1.3rem; font-weight: 900; padding: 18px; border-radius: 50px; border: 2px solid #fff; }

        .access-section { background: #fff; margin: 50px auto 30px; border-radius: 20px; overflow: hidden; border: 4px solid #eee; width: 100%; box-shadow: 0 10px 30px rgba(0,0,0,0.08); }
        .map-embed-container iframe { width: 100%; height: 400px; border: 0; }
        .facilities-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px 10px; padding: 30px; border-top: 1px solid #eee; text-align: center; }
        .facilities-grid img { width: 50px; margin: 0 auto 10px; }
        @media (max-width: 640px) { .facilities-grid { grid-template-columns: repeat(2, 1fr); } }

        .fixed-banner { position: fixed; bottom: 0; left: 0; width: 100%; background: rgba(255, 255, 255, 0.8); backdrop-filter: blur(10px); display: flex; gap: 10px; padding: 15px; z-index: 9999; border-top: 1px solid rgba(255,255,255,0.5); transition: 0.4s; }
        .fixed-banner .banner-btn { flex: 1; display: flex; align-items: center; justify-content: center; gap: 6px; padding: 16px 5px; font-weight: 900; border-radius: 50px; text-decoration: none; }
        .fixed-banner .trial { background: var(--gold-gradient); color: #3e2723; }
        .fixed-banner .app { background: linear-gradient(135deg, #e53935 0%, #C21632 100%); color: #fff; }
        body.banner-hidden .fixed-banner { transform: translateY(100%); }
        #banner-toggle-container { position: fixed; bottom: 100px; right: 20px; z-index: 10000; }
        #banner-toggle-btn { width: 50px; height: 50px; background: #1a1a2e; color: #fff; border-radius: 50%; display: flex; justify-content: center; align-items: center; cursor: pointer; border: none; box-shadow: 0 4px 10px rgba(0,0,0,0.3); }
    </style>
</head>

<body>

<!-- ==========================================
     ヒーローセクション (Slot Animation 統合版)
     ========================================== -->
<section class="relative w-full flex flex-col items-center justify-center overflow-hidden pt-10 pb-1 bg-[var(--bg-body)]">
    <!-- 背景ノイズ -->
    <div class="absolute inset-0 bg-noise z-10 pointer-events-none"></div>

    <div class="relative z-20 text-center px-4 w-full max-w-[600px] flex flex-col items-center">
        
        <!-- 全体を囲むメインフレーム -->
        <div class="bg-white border-4 border-[#111] p-6 md:p-10 shadow-[10px_10px_0_var(--gold-main)] md:shadow-[15px_15px_0_var(--gold-main)] relative mild-fade-in w-full">
            
            <!-- ラベル (ブラックからゴールド背景/ブラックテキストに変更) -->
            <div class="absolute -top-5 left-1/2 transform -translate-x-1/2 inline-block bg-gradient-to-r from-[var(--gold-dark)] via-[var(--gold-light)] to-[var(--gold-main)] text-[#111] font-black px-6 py-2 text-sm md:text-lg tracking-widest whitespace-nowrap border-4 border-[#111] shadow-[4px_4px_0_var(--brand)] md:shadow-[6px_6px_0_var(--brand)]">
                3月～8月分月会費
            </div>

            <!-- タイトル -->
            <h1 class="text-4xl md:text-5xl font-black tracking-tighter mt-8 mb-6 text-[#111] leading-tight">
                6カ月間<br class="block md:hidden" />ずーっと <span class="text-[var(--brand)] drop-shadow-[3px_3px_0_#111] md:drop-shadow-[4px_4px_0_#111] mt-2 inline-block">半額!!</span>
            </h1>

            <!-- 価格エリアをまとめるインナーボックス -->
            <div class="bg-gray-100 border-4 border-[#111] p-4 md:p-6 mt-6 relative">
                
                <div class="flex flex-wrap items-center justify-center gap-2 md:gap-4 text-gray-500 font-bold text-sm md:text-xl mb-2">
                    <span class="bg-[#111] text-white px-2 py-1 text-xs md:text-sm">通常</span>
                    <div class="relative inline-block">
                        <span class="font-impact text-2xl md:text-3xl">8,500<span class="text-sm md:text-lg ml-1 font-sans">円</span></span>
                        <div id="strike-line" class="absolute top-1/2 -left-2 w-[110%] h-1 bg-[var(--brand)] transform rotate-1 scale-x-0 origin-left transition-transform duration-300"></div>
                    </div>
                    <span class="text-xs md:text-sm">(税込9,350円)</span>
                </div>

                <!-- 矢印 -->
                <div class="text-[#111] text-2xl md:text-3xl font-black my-2 opacity-0 transition-opacity duration-300" id="arrow-down">⬇</div>

                <!-- スロットラッパー (高さを厳密に制御) -->
                <div id="slot-wrapper" class="relative overflow-hidden w-full h-[120px] md:h-[160px]">
                    <!-- プレースホルダー (基準となる高さ) -->
                    <div class="opacity-0 pointer-events-none select-none slot-frame flex flex-col items-center justify-center py-2">
                        <div class="flex items-baseline justify-center text-[#111]">
                            <span class="font-impact text-6xl md:text-[8rem] tracking-tighter leading-none">4,250</span>
                            <span class="text-2xl md:text-4xl font-black ml-1 md:ml-2 mb-1 leading-none">円</span>
                        </div>
                        <div class="text-[#111] font-bold text-sm md:text-xl tracking-widest mt-1 leading-none">
                            (税込4,675円)
                        </div>
                    </div>

                    <!-- 実際に回転するフィルム（リボン） -->
                    <div id="slot-ribbon" class="absolute top-0 left-0 w-full flex flex-col will-change-transform"></div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- ==========================================
     メインコンテンツ (ゴールドヘッダー統合版)
     ========================================== -->
<div class="lp-wrapper">

    <!-- プラン詳細セクション -->
    <section class="plan-selection-section reveal-up py-4">
        <!-- ヘッダーをゴールドグラデーションに更新 -->
        <div class="campaign-header-enhanced">
            <h2>3月限定キャンペーン</h2>
            <span class="sub-text">APP入会限定の特別プラン！</span>
        </div>

        <!-- 枠のデザインをブランドレッドで統一し、ゴールドと対比 -->
        <div class="plan-container-wrapper">
            <div class="price-showcase">
                <div class="price-list">
                    <!-- 1. 初期費用 -->
                    <div class="price-item">
                        <div class="label-group">
                            <span class="number-circle">1</span>
                            <div class="label">初期費用</div>
                        </div>
                        <div class="divider-dot"></div>
                        <div class="price-display-center">
                            <span class="price-value">5,500<span class="unit">円(税込)</span></span>
                        </div>
                    </div>

                    <!-- 2. 3月〜8月会費 -->
                    <div class="price-item">
                        <div class="label-group">
                            <span class="number-circle">2</span>
                            <div class="label">3月〜8月会費<span class="note">(6ヶ月間半額!)</span></div>
                        </div>
                        <div class="divider-dot"></div>
                        <div class="price-display-center">
                            <span class="price-value" style="color: var(--brand);">4,675<span class="unit">円(税込) /月</span></span>
                            <span style="font-size: 0.75rem; color: #666;">通常9,350円から半額</span>
                        </div>
                    </div>

                    <!-- 3. オプション -->
                    <div class="price-item">
                        <div class="label-group">
                            <span class="number-circle" style="background-color: var(--gold-dark);">3</span>
                            <div class="label">オプション<span class="note">3月分</span></div>
                        </div>
                        <div class="divider-dot"></div>
                        <div class="price-display-center">
                            <span class="price-value zero-yen" style="color: var(--brand); font-size: 1.6rem;">0<span class="unit">円</span></span>
                            <span style="font-size: 0.8rem; font-weight: 700; color: var(--brand); background: #fff0f0; padding: 2px 6px; border-radius: 4px; margin-top: 2px;">(対象のオプションが無料)</span>
                        </div>
                    </div>

                    <!-- 入会時お支払い目安 -->
                    <div class="mid-list-total-block">
                        <div class="label"><i class="ph-bold ph-wallet"></i> ご入会時お支払い合計</div>
                        <div><span class="price-large">10,175</span><span class="unit-large">円(税込)</span></div>
                        <div style="font-size: 0.8rem; color: #666; margin-top: 4px;">(初期費用5,500円 ＋ 3月分会費4,675円)</div>
                    </div>
                </div>

                 <!-- 9月以降 -->
                <div class="monthly-fee">
                    <div style="font-size: 0.85rem; font-weight: 700; color: #666; margin-bottom: 0.5rem;">**9月以降の通常月額**</div>
                    <div><span class="price-large" style="font-size: 1.6rem; font-weight: 900;">9,350<span class="unit-large">円(税込)</span></span><span style="margin: 0 10px; font-weight: 900;">+</span><span style="font-weight: 700;">オプション料金</span></div>
                </div>
            </div>

            <!-- 条件リスト -->
            <div class="digital-step-card condition-card reveal-up" style="margin: 30px auto;">
                <div class="step-badge red">キャンペーン注意事項</div>
                <div class="condition-list-content">
                    <div class="condition-item">
                        <i class="ph-bold ph-check" style="color: var(--brand); font-size: 1.3rem;"></i>
                        <span>JOYFIT APPからのご入会<br><span style="font-size:0.8rem; font-weight:normal; color:#666;">(クレジットカード決済のみ対応)</span></span>
                    </div>
                    <div class="condition-item">
                        <i class="ph-bold ph-check" style="color: var(--brand); font-size: 1.3rem;"></i><span>2026年9月末日までの在籍が条件となります</span>
                    </div>
                    <div class="condition-item">
                        <i class="ph-bold ph-check" style="color: var(--brand); font-size: 1.3rem;"></i><span>期間内に退会された場合、解約金として28,500円(税込)が発生いたします</span>
                    </div>
                    <div class="condition-item">
                        <i class="ph-bold ph-check" style="color: var(--brand); font-size: 1.3rem;"></i><span>無料オプションは入会時、全て自動契約となります</span>
                    </div>
                </div>
            </div>

            <div class="how-to-join-container reveal-up">
                <!-- ステップ1: 追加特典 -->
                <div class="digital-step-card">
                    <div class="step-badge gold">STEP 1 追加特典</div>
                    <div class="step-main-content">
                        <i class="ph-duotone ph-pencil-line" style="font-size: 2.5rem; color: var(--gold-dark);"></i>
                        <div class="step-info">
                            <div class="step-title">入会前に必ず送信！</div>
                            <p class="step-desc" style="font-size: 0.75rem; color: #666;">該当する方はこちらから事前申請</p>
                        </div>
                        <a href="https://24kyodo-special-plan.vercel.app/" target="_blank" class="step-action-btn btn-gold-flat">申請する</a>
                    </div>
                </div>
                
                <!-- ステップ2: アプリ入会 -->
                <div class="digital-step-card">
                    <div class="step-badge red">STEP 2 アプリ入会</div>
                    <div class="step-main-content">
                        <i class="ph-duotone ph-device-mobile" style="font-size: 2.5rem; color: var(--brand);"></i>
                        <div class="step-info">
                            <div class="step-title">APPでカンタン入会</div>
                            <p class="step-desc" style="font-size: 0.75rem; color: #666;">JOYFIT APPをDLして入会【最短5分】</p>
                        </div>
                        <a href="https://joyfit.jp/kyodo/app_join/" target="_blank" class="step-action-btn btn-red-flat">アプリDL</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- オプションカルーセルセクション -->
    <section class="options-group-section reveal-up" id="options-group-section">
        <section class="options-carousel-section">
            <div class="text-box" style="margin: 0 auto; max-width: 90%; text-align: center;">
                <h2 class="section-title">
                    <span class="highlight">8</span>つの無料オプション
                </h2>
                <p style="font-size: 0.95rem; line-height: 1.6; font-weight: 700;">
                    キャンペーン期間中<br><span style="color: var(--gold-main); font-size: 1.3rem;">3月分が0円</span>で使い放題！<br><span style="font-size: 0.85rem; opacity: 0.9;">※8つのオプションは入会時自動契約されます。</span>
                </p>
            </div>
            <div class="scene">
                <div id="card-carousel-free" class="card-carousel"></div>
            </div>
            <div class="carousel-nav">
                <button id="carousel-prev-free"><i class="ph-bold ph-caret-left"></i></button>
                <button id="carousel-next-free"><i class="ph-bold ph-caret-right"></i></button>
            </div>
        </section>

        <!-- 有料オプション -->
        <section class="options-carousel-section" style="margin-top: 70px;">
            <div class="text-box" style="margin: 0 auto; max-width: 90%; text-align: center;">
                <h2 class="section-title">
                    <span class="highlight">3</span>つの有料オプション
                </h2>
                <p style="font-size: 0.95rem; font-weight: 700;">
                    ※こちらはご希望の方のみ契約いただけます
                </p>
            </div>
            <div class="scene">
                <div id="card-carousel-paid" class="card-carousel"></div>
            </div>
            <div class="carousel-nav">
                <button id="carousel-prev-paid"><i class="ph-bold ph-caret-left"></i></button>
                <button id="carousel-next-paid"><i class="ph-bold ph-caret-right"></i></button>
            </div>
        </section>
    </section>

    <!-- 注意事項セクション -->
    <div class="notice-container-v22 reveal-up" id="notice-section">
        <div class="notice-title-v22">
            <span>注意事項</span>
        </div>
        <div style="font-size: 0.9rem; line-height: 1.8; font-weight: 700; color: #333; margin-bottom: 25px;">
            オプションは入会時に<strong style="background: var(--gold-light); padding: 2px 6px; border-radius: 4px;">自動契約</strong>となります<br />
            不要な場合<strong style="background: var(--gold-light); padding: 2px 6px; border-radius: 4px;">3月末迄</strong>に解約をお願いいたします<br /><br />
            入会後<strong>[JOYFIT APP]</strong>から解約が可能です<br />
            解約後も月末迄サービスをご利用頂けます
        </div>
        <span class="notice-warning-v22">※解約忘れによる返金は出来ません</span>
        <a href="https://www.youtube.com/shorts/qpvkmWi-vTM" class="cta-button-video" target="_blank">
            <i class="ph-fill ph-youtube-logo" style="font-size: 1.5rem;"></i>
            <span>解約方法はコチラをタップ</span>
        </a>
    </div>

    <!-- 追加特典セクション -->
    <a href="https://24kyodo-special-plan.vercel.app/" target="_blank" class="bonus-section-red reveal-up">
         <h3 style="font-size: 2rem; font-weight: 900; color: #333; margin-bottom: 15px;">お得な<span style="color: var(--brand);">追加特典</span></h3>
         <p style="font-size: 0.95rem; color: #555; font-weight: 700; margin-bottom: 25px; line-height: 1.6;">
            追加特典はこちらからご確認下さい！<br>
            紹介・移籍・学割など、該当者はさらにお得
         </p>
         <span class="bonus-btn-large">詳細を見る</span>
    </a>

    <!-- アクセスマップセクション -->
    <section class="access-section reveal-up" style="margin-bottom: 50px;">
        <header>
            <img src="joylogo.jpg" alt="JOYFIT24経堂" style="width: 100%; display: block;" onerror="this.onerror=null; this.src='https://placehold.co/600x200/C21632/ffffff?text=JOYFIT24+KYODO';">
        </header>
        <div class="map-embed-container">
            <iframe src="https://www.google.com/maps?q=JOYFIT24経堂,東京都世田谷区経堂5-23-13&output=embed" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
        </div>
        <div style="padding: 30px; background: #fff; border-top: 1px solid #eee; border-bottom: 1px solid #eee;">
            <p style="font-size: 0.95rem; color: #666; font-weight: 700; text-align: left; margin-bottom: 10px;">店舗外観</p>
            <img src="entrance.jpg" alt="店舗外観" style="width: 100%; border-radius: 12px; box-shadow: 0 8px 25px rgba(0,0,0,0.1);" onerror="this.onerror=null; this.src='https://placehold.co/600x400/e0e0e0/C21632?text=Store+Exterior';">
        </div>
        <div style="padding: 30px; text-align: left; background: #fff;">
            <strong style="display: block; font-size: 1.5rem; font-weight: 900; margin-bottom: 25px; text-align: center; color: var(--brand);">JOYFIT24経堂</strong>
            <div style="display: flex; gap: 15px; margin-bottom: 20px; font-size: 1rem; color: #333; line-height: 1.7; font-weight: 500;">
                <i class="ph-fill ph-map-pin" style="color: var(--brand); font-size: 1.4rem; flex-shrink: 0; margin-top: 2px;"></i>
                <span>〒156-0052<br>東京都世田谷区経堂5-23-13 2F・3F</span>
            </div>
            <div style="display: flex; gap: 15px; margin-bottom: 20px; font-size: 1rem; color: #333; line-height: 1.7; font-weight: 500;">
                <i class="ph-fill ph-train" style="color: var(--brand); font-size: 1.4rem; flex-shrink: 0; margin-top: 2px;"></i>
                <div><strong>アクセス</strong><br>小田急線「経堂駅」より徒歩9分</div>
            </div>
            <div style="display: flex; gap: 15px; margin-bottom: 20px; font-size: 1rem; color: #333; line-height: 1.7; font-weight: 500;">
                <i class="ph-fill ph-clock" style="color: var(--brand); font-size: 1.4rem; flex-shrink: 0; margin-top: 2px;"></i>
                <div><strong>受付時間</strong><br><span>平日 10:00～21:00</span><br><span>土日祝 12:00～20:00</span><br><small style="color: #888;">※毎週月・木曜日は終日スタッフ不在</small></div>
            </div>
            <div class="facilities-grid">
                <div><img src="a.jpg" alt="ジム" onerror="this.onerror=null; this.src='https://placehold.co/100x100/e0e0e0/C21632?text=Gym';"><strong style="font-size: 0.85rem; font-weight: 900;">2Fジムエリア</strong><p style="font-size: 0.75rem; color: #666; margin-top: 5px;">広々空間×充実マシン</p></div>
                <div><img src="b.jpg" alt="スタジオ" onerror="this.onerror=null; this.src='https://placehold.co/100x100/e0e0e0/C21632?text=Studio';"><strong style="font-size: 0.85rem; font-weight: 900;">3Fスタジオ</strong><p style="font-size: 0.75rem; color: #666; margin-top: 5px;">ホットスタジオ</p></div>
                <div><img src="c.jpg" alt="24H" onerror="this.onerror=null; this.src='https://placehold.co/100x100/e0e0e0/C21632?text=24H';"><strong style="font-size: 0.85rem; font-weight: 900;">24時間営業</strong><p style="font-size: 0.75rem; color: #666; margin-top: 5px;">※2Fジムエリア</p></div>
                <div><img src="d.jpg" alt="土足" onerror="this.onerror=null; this.src='https://placehold.co/100x100/e0e0e0/C21632?text=Shoes';"><strong style="font-size: 0.85rem; font-weight: 900;">土足OK</strong><p style="font-size: 0.75rem; color: #666; margin-top: 5px;">※サンダル＆裸足は×</p></div>
                <div><img src="h.jpg" alt="駐車場" onerror="this.onerror=null; this.src='https://placehold.co/100x100/e0e0e0/C21632?text=Parking';"><strong style="font-size: 0.85rem; font-weight: 900;">無料駐車場6台</strong><p style="font-size: 0.75rem; color: #666; margin-top: 5px;">※駐輪場もあります</p></div>
                <div><img src="e.jpg" alt="シャワー" onerror="this.onerror=null; this.src='https://placehold.co/100x100/e0e0e0/C21632?text=Shower';"><strong style="font-size: 0.85rem; font-weight: 900;">シャワールーム</strong><p style="font-size: 0.75rem; color: #666; margin-top: 5px;">男女別計19部屋</p></div>
                <div><img src="g.jpg" alt="ミスト" onerror="this.onerror=null; this.src='https://placehold.co/100x100/e0e0e0/C21632?text=Mist';"><strong style="font-size: 0.85rem; font-weight: 900;">女性ミストサウナ</strong><p style="font-size: 0.75rem; color: #666; margin-top: 5px;">約40℃設定</p></div>
                <div><img src="f.jpg" alt="サウナ" onerror="this.onerror=null; this.src='https://placehold.co/100x100/e0e0e0/C21632?text=Sauna';"><strong style="font-size: 0.85rem; font-weight: 900;">男性ドライサウナ</strong><p style="font-size: 0.75rem; color: #666; margin-top: 5px;">約80℃設定</p></div>
            </div>
        </div>
        <div style="padding: 30px; border-top: 1px solid #eee; background: #f8f9fa;">
            <a href="https://www.google.com/maps/search/?api=1&query=JOYFIT24経堂,東京都世田谷区経堂5-23-13" target="_blank" style="display: inline-flex; align-items: center; justify-content: center; gap: 12px; background: var(--brand); color: #fff; font-size: 1.1rem; font-weight: 900; text-decoration: none; padding: 15px 30px; border-radius: 50px; box-shadow: 0 8px 20px rgba(194, 22, 50, 0.4); transition: 0.2s;">
                <i class="ph-bold ph-navigation-arrow" style="font-size: 1.3rem;"></i>
                <span>Googleマップでルートを確認</span>
            </a>
        </div>
    </section>

</div>

<!-- 固定バナー -->
<div class="fixed-banner">
    <a href="https://24-kyodo-freetrial.vercel.app/" class="banner-btn trial" target="_blank">
        <i class="ph-bold ph-calendar-plus" style="font-size: 1.3rem;"></i>無料見学・体験
    </a>
    <a href="https://joyfit.jp/kyodo/app_join/" class="banner-btn app" target="_blank">
        <i class="ph-bold ph-device-mobile" style="font-size: 1.3rem;"></i>APP入会はこちら
    </a>
</div>

<div id="banner-toggle-container">
    <button id="banner-toggle-btn"><i class="ph-bold ph-x" id="toggle-icon" style="font-size: 20px;"></i></button>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    
    // ====================================================
    // スロットアニメーション
    // ====================================================
    const ribbon = document.getElementById('slot-ribbon');
    const wrapper = document.getElementById('slot-wrapper');
    const strikeLine = document.getElementById('strike-line');
    const arrowDown = document.getElementById('arrow-down');
    
    if (ribbon && wrapper && strikeLine && arrowDown) {
        const framesData = [];
        framesData.push({ main: "8,500", sub: "9,350" }); // 最初のコマ
        
        const numDummies = 24; 
        let currentVal = 8500;
        const targetVal = 4250;
        const step = (8500 - 4250) / (numDummies + 1);
        
        for (let i = 0; i < numDummies; i++) {
            currentVal -= step;
            let randVal = currentVal + (Math.random() * 300 - 150);
            let mainNum = Math.floor(randVal / 10) * 10;
            let subNum = Math.floor(mainNum * 1.1);
            framesData.push({ main: mainNum.toLocaleString(), sub: subNum.toLocaleString() });
        }
        
        framesData.push({ main: "4,250", sub: "4,675" }); // 最後のターゲットコマ

        let html = '';
        framesData.forEach((f, idx) => {
            const isTarget = (idx === framesData.length - 1);
            const opacityClass = (idx === 0 || isTarget) ? "opacity-100" : "opacity-60";
            
            html += `
                <div class="slot-frame flex flex-col items-center justify-center w-full h-full ${opacityClass}">
                    <div class="flex items-baseline justify-center text-[#111]">
                        <span class="font-impact text-6xl md:text-[8rem] tracking-tighter slot-shadow leading-none">${f.main}</span>
                        <span class="text-2xl md:text-4xl font-black ml-1 md:ml-2 mb-1 leading-none">円</span>
                    </div>
                    <div class="text-[#111] font-bold text-sm md:text-xl tracking-widest leading-none" style="margin-top: 4px;">
                        (税込${f.sub}円)
                    </div>
                </div>
            `;
        });
        ribbon.innerHTML = html;

        setTimeout(() => {
            strikeLine.style.transform = "rotate(1deg) scaleX(1)";
            arrowDown.style.opacity = "1";
        }, 1000);

        setTimeout(() => {
            const lastFrame = ribbon.lastElementChild;
            const targetY = -(lastFrame.offsetTop);

            ribbon.classList.add('spinning');
            ribbon.style.transition = "transform 2.2s cubic-bezier(0.15, 0.9, 0.3, 1.02)";
            ribbon.style.transform = `translateY(${targetY}px)`;
            
            setTimeout(() => {
                ribbon.classList.remove('spinning');
                wrapper.classList.add('shake-impact', 'slot-flash');
            }, 2200);
            
        }, 1400);
    }

    // ====================================================
    // スクロール連動Reveal
    // ====================================================
    const revealElements = document.querySelectorAll('.reveal-up');
    const revealOptions = { root: null, rootMargin: '0px 0px -100px 0px', threshold: 0.1 };
    const revealObserver = new IntersectionObserver((entries, observer) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('is-visible');
                observer.unobserve(entry.target);
            }
        });
    }, revealOptions);
    revealElements.forEach(el => revealObserver.observe(el));

    // ====================================================
    // オプションカルーセル
    // ====================================================
    const allOptions = [
        { name: '水素水 & プロテイン', price: '月額 3,240円', icon_img: '37.png', description: '水素水＋プロテイン<br>[１日６杯迄]のお得なセット' },
        { name: 'ホットスタジオ', price: '月額 1,100円', icon_img: '36.png', description: '世田谷エリア最大級<br>のレッスンで滝汗体験!' },
        { name: 'あんしんサポートVIP', price: '月額 825円', icon_img: '41.png', description: '万が一の時にも安心な<br>JOYFIT専用サポートプラン' },
        { name: 'オンラインレッスン', price: '月額 1,100円', icon_img: '42.png', description: '自宅で本格的なレッスンが出来る!<br>ジムに来れない日でも安心' },
        { name: 'タンニングマシン', price: '月額 5,500円', icon_img: '44.png', description: '理想の日焼け肌を手に入れたい方へ!<br>※1日20分まで' },
        { name: 'セルフエステ', price: '月額 3,300円', icon_img: '45.png', description: 'エステサロンと同じ<br>業務用マシンが使い放題' },
        { name: 'レンタルマット', price: '月額 1,100円', icon_img: '38.png', description: 'マットを持ってこなくてＯＫ!<br>ホットスタジオ参加には必須!' },
        { name: 'レンタルタオル', price: '月額 1,650円', icon_img: '40.png', description: '汗をかいても安心レンタル<br>フェイスタオル・バスタオル' },
        { name: '体組成計', price: '月額 550円', icon_img: '39.png', description: '体脂肪、筋肉量を測定し<br>トレーニングを最適化' }
    ];

    const paidOptions = [
        { name: '契約ロッカー', price: '月額 1,650円', icon_img: '43.png', description: 'ウェアやシューズを置いたままに<br>あなた専用のロッカー' },
        { name: 'ピラティスリフォーマー', price: '月額 3,300円', icon_img: '46.png', description: 'ピラティスマシンを使い<br>体幹等を鍛える本格レッスン' },
        { name: 'ヨガマットロッカー', price: '月額 1,100円', icon_img: '47.png', description: 'ご自身のヨガマットを保管<br>荷物を減らしたい方へ' }
    ];

    function initializeCarousel(options, containerId, navPrevId, navNextId, isPaid = false) {
        const carouselContainer = document.getElementById(containerId);
        const prevBtn = document.getElementById(navPrevId);
        const nextBtn = document.getElementById(navNextId);
        if (!carouselContainer) return;
        
        const createCardHTML = (option) => `
            <div class="option-card-3d">
                <div class="card-badge ${isPaid ? 'paid' : 'free'}">${isPaid ? '有料オプション' : '無料オプション'}</div>
                <div style="width: 100%; flex-grow: 1; display: flex; justify-content: center; align-items: center; padding-bottom: 1rem;">
                    <img src="./${option.icon_img}" alt="${option.name}" class="card-icon" onerror="this.onerror=null; this.src='https://placehold.co/150x150/transparent/cccccc?text=Option';">
                </div>
                <div style="width: 100%; flex-shrink: 0;">
                    <h4 class="card-title">${option.name}</h4>
                    <p class="card-price">${option.price.split(' ')[1]}<span style="font-size: 0.8rem; font-weight: normal; color: #555;"> / ${option.price.split(' ')[0]}(税込)</span></p>
                    <p style="font-size: 0.8rem; color: #666; margin-top: 0.75rem; line-height: 1.5; min-height: 3.6rem;">${option.description}</p>
                </div>
            </div>`;
        carouselContainer.innerHTML = options.map(createCardHTML).join('');
        const cards = carouselContainer.querySelectorAll('.option-card-3d');
        const totalCards = cards.length;
        let currentIndex = 0;
        let autoPlayInterval;

        function updateCarousel() {
            const activeIndex = (currentIndex % totalCards + totalCards) % totalCards;
            cards.forEach((card, index) => {
                const relativePos = ((index - activeIndex + totalCards) % totalCards);
                let transform = ''; let opacity = 0; let zIndex = 0;
                switch (relativePos) {
                    case 0: transform = 'translateX(-50%) scale(1)'; opacity = 1; zIndex = 20; break;
                    case 1: transform = 'translateX(20%) scale(0.85)'; opacity = 0.6; zIndex = 10; break;
                    case totalCards - 1: transform = 'translateX(-120%) scale(0.85)'; opacity = 0.6; zIndex = 10; break;
                    default: transform = relativePos < totalCards / 2 ? 'translateX(50%) scale(0.6)' : 'translateX(-150%) scale(0.6)'; opacity = 0; zIndex = 0; break;
                }
                card.style.transform = transform; card.style.opacity = opacity; card.style.zIndex = zIndex;
            });
        }

        function startAutoPlay() {
            stopAutoPlay();
            autoPlayInterval = setInterval(() => { currentIndex++; updateCarousel(); }, 4000);
        }
        function stopAutoPlay() { if (autoPlayInterval) clearInterval(autoPlayInterval); }

        if(prevBtn) prevBtn.addEventListener('click', () => { currentIndex--; updateCarousel(); stopAutoPlay(); startAutoPlay(); });
        if(nextBtn) nextBtn.addEventListener('click', () => { currentIndex++; updateCarousel(); stopAutoPlay(); startAutoPlay(); });

        let startX = 0;
        let isDragging = false;
        carouselContainer.addEventListener('touchstart', (e) => { startX = e.touches[0].clientX; isDragging = true; stopAutoPlay(); }, {passive: true});
        carouselContainer.addEventListener('touchend', (e) => {
            if (!isDragging) return;
            const diff = startX - e.changedTouches[0].clientX;
            if (Math.abs(diff) > 50) { if (diff > 0) currentIndex++; else currentIndex--; updateCarousel(); }
            isDragging = false; startAutoPlay();
        });

        updateCarousel();
        startAutoPlay();
    }
    initializeCarousel(allOptions, 'card-carousel-free', 'carousel-prev-free', 'carousel-next-free');
    initializeCarousel(paidOptions, 'card-carousel-paid', 'carousel-prev-paid', 'carousel-next-paid', true);

    const toggleBtn = document.getElementById('banner-toggle-btn');
    const toggleIcon = document.getElementById('toggle-icon');
    if (toggleBtn) {
        toggleBtn.addEventListener('click', function() {
            document.body.classList.toggle('banner-hidden');
            if (document.body.classList.contains('banner-hidden')) {
                toggleIcon.classList.replace('ph-x', 'ph-caret-up');
            } else {
                toggleIcon.classList.replace('ph-caret-up', 'ph-x');
            }
        });
    }
});
</script>

</body>
</html>